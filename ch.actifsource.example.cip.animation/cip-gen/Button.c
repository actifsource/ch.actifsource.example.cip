/*******************************************************************
        SYSTEM LampSystem
        Module for PROCESS Button
        Filename: Button.c
        generated by CIP Tool(R)

        activated code options:
        	C code
        	use channel interface
        		naming option: use default prefix
        	use postfix
        		 LampUnit_HANS
        	enable mode inspection
        	'unsigned long' for delays
*********************************************************************/

/* Include Files */

#include "mLampUnit.h"
#include "tLampUnit.h"

/* Process Macro Definitions */

#define EXCEPTION return;
#define SELF status_Button_HANS.write_access_
#define STATUS (pStatus_Button_HANS->read_access_)
#define TIME time_LampUnit_HANS

/* Process Enumerations */

enum eMODES_Button
	{normal = 1};

enum eSTATES_Button
	{pushed = 1, released};


/* External Declarations */

extern unsigned long time_LampUnit_HANS;
extern struct tCHNOUT_mLampUnit_HANS CHNOUT_mLampUnit_HANS;
int fPULSE_Lamp_HANS (enum eOUTPLS_LampUnit_HANS name_);

/* Global Declarations */

union tSTATUS_Button_HANS status_Button_HANS;
const union tSTATUS_Button_HANS *pStatus_Button_HANS = &status_Button_HANS;

/* Function Prototypes */

void fICHAN_ButtonEvents_HANS (enum eMSG_ButtonEvents_HANS name_);
void fINIT_Button_HANS (void);
void fDUMP_Button_HANS (void);

/* Trace Function Prototypes */


/* Input Channel Functions */

void fICHAN_ButtonEvents_HANS(enum eMSG_ButtonEvents_HANS name_)
{
	switch(name_)
	{
		/* MESSAGE Push of INPORT EVENT_PORT */
	case C1_Push:
		switch(status_Button_HANS.read_access_.STATE)
		{
		case released:
		 	printf("       TRANSITION '1 Push' Button.normal: STATE released -> pushed  [6f9fc834-f5a7-11ee-8944-afc67c286a4c]\n");
		 	status_Button_HANS.write_access_.STATE = pushed;
		 	{
		 		struct tTRACE_CHANGE_LampUnit_HANS elements[2];
		 		fTRACE_APPEND_CHANGE_LampUnit_HANS(&elements[0], 2, 1, 1);
		 		fTRACE_APPEND_CHANGE_LampUnit_HANS(&elements[1], 2, 1, 3);
		 		TRACE_LampUnit_HANS.CHANGE_(2, elements);
		 	}
		 	fPULSE_Lamp_HANS (O2_on);
			break;
		default:
			return;
		}		
		break;
		/* MESSAGE Release of INPORT EVENT_PORT */
	case C1_Release:
		switch(status_Button_HANS.read_access_.STATE)
		{
		case pushed:
		 	printf("       TRANSITION '2 Release' Button.normal: STATE pushed -> released  [6f9fc836-f5a7-11ee-8944-afc67c286a4c]\n");
		 	status_Button_HANS.write_access_.STATE = released;
		 	{
		 		struct tTRACE_CHANGE_LampUnit_HANS elements[2];
		 		fTRACE_APPEND_CHANGE_LampUnit_HANS(&elements[0], 2, 1, 2);
		 		fTRACE_APPEND_CHANGE_LampUnit_HANS(&elements[1], 2, 1, 4);
		 		TRACE_LampUnit_HANS.CHANGE_(2, elements);
		 	}
		 	fPULSE_Lamp_HANS (O2_off);
			break;
		default:
			return;
		}		
		break;
	default:
		return;
	}
	return;
}
		
/* Process Dump Function */

void fDUMP_Button_HANS(void)
{
	struct tTRACE_DUMP_LampUnit_HANS element;
	int state =  status_Button_HANS.read_access_.STATE;
	fTRACE_APPEND_DUMP_LampUnit_HANS(&element, 2, 1, normal, state, state);
	TRACE_LampUnit_HANS.DUMP_(&element);
}

/* Process Initialization Function */

void fINIT_Button_HANS (void)
{
	status_Button_HANS.write_access_.MODE = normal;
	status_Button_HANS.write_access_.STATE = released;
}		

/*********************************************************************
	End of Module for PROCESS Button
*********************************************************************/
/* Actifsource ID=[e9267837-2596-11e1-ae2f-a14f3e396de6,6f9fef7b-f5a7-11ee-8944-afc67c286a4c,6f9fc82e-f5a7-11ee-8944-afc67c286a4c,6f9fef98-f5a7-11ee-8944-afc67c286a4c,6f9fef79-f5a7-11ee-8944-afc67c286a4c,6f9fef78-f5a7-11ee-8944-afc67c286a4c,6f9fc841-f5a7-11ee-8944-afc67c286a4c,QD7xLWrXP5wQ1WX5HTI/OI42tS0=] */
