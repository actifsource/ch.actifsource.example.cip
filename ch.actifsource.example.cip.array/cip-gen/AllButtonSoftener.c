/*******************************************************************
        SYSTEM ChairArray
        Module for PROCESS AllButtonSoftener
        Filename: AllButtonSoftener.c
        generated by CIP Tool(R)

        activated code options:
        	C code
        	use channel interface
        		naming option: use default prefix
        	'unsigned long' for delays
*********************************************************************/

/* Include Files */

#include "mChairUnit.h"

/* Process Macro Definitions */

#define EXCEPTION return;
#define SELF status_AllButtonSoftener.write_access_
#define STATUS (pStatus_AllButtonSoftener->read_access_)
#define TIME time_

/* Process Enumerations */

enum eMODES_AllButtonSoftener
	{normal = 1};

enum eSTATES_AllButtonSoftener
	{pushed = 1, released};


/* External Declarations */

extern unsigned long time_;
extern struct tCHNOUT_mChairUnit CHNOUT_mChairUnit;
int fPULSE_PassengersControl (enum eOUTPLS_ name_,
  struct tID_PassengersControl *procid_);

/* Global Declarations */

union tSTATUS_AllButtonSoftener status_AllButtonSoftener;
const union tSTATUS_AllButtonSoftener *pStatus_AllButtonSoftener = &status_AllButtonSoftener;

/* Function Prototypes */

void fICHAN_Evt_AllButtonSofter (enum eMSG_Evt_AllButtonSofter name_);
void fINIT_AllButtonSoftener (void);

/* Multiple Cast Functions */

static void fCAST_PassengersControl(enum eOUTPLS_ name_)
{
	struct tID_PassengersControl ID_PassengersControl;
	switch(name_)
	{	
	case O12_push:
	case O12_released:
		for (ID_PassengersControl.cushionIndex = 0; ID_PassengersControl.cushionIndex < CUSHION_COUNT; ID_PassengersControl.cushionIndex++)
		{
			fPULSE_PassengersControl(name_, &ID_PassengersControl);
		}
		break;
	default: 
		break;
	}
}	
/* Input Channel Functions */

void fICHAN_Evt_AllButtonSofter(enum eMSG_Evt_AllButtonSofter name_)
{
	switch(name_)
	{
		/* MESSAGE Push of INPORT AllButtonSofter */
	case C7_Push:
		switch(status_AllButtonSoftener.read_access_.STATE)
		{
		case released:
		 	status_AllButtonSoftener.write_access_.STATE = pushed;
		 	fCAST_PassengersControl (O12_push);
			break;
		default:
			return;
		}		
		break;
		/* MESSAGE Release of INPORT AllButtonSofter */
	case C7_Release:
		switch(status_AllButtonSoftener.read_access_.STATE)
		{
		case pushed:
		 	status_AllButtonSoftener.write_access_.STATE = released;
		 	fCAST_PassengersControl (O12_released);
			break;
		default:
			return;
		}		
		break;
	default:
		return;
	}
	return;
}
		
/* Process Initialization Function */

void fINIT_AllButtonSoftener (void)
{
	status_AllButtonSoftener.write_access_.STATE = released;
}		

/*********************************************************************
	End of Module for PROCESS AllButtonSoftener
*********************************************************************/
/* Actifsource ID=[e9267837-2596-11e1-ae2f-a14f3e396de6,2e7be38b-c77a-11ea-9e9f-c1d3048691bc,2e797237-c77a-11ea-9e9f-c1d3048691bc,2e7be3c2-c77a-11ea-9e9f-c1d3048691bc,2e7be389-c77a-11ea-9e9f-c1d3048691bc,2e7be388-c77a-11ea-9e9f-c1d3048691bc,2e79726a-c77a-11ea-9e9f-c1d3048691bc,riBGfEaD/CmVhnVLdJu9/91AOow=] */
