/*********************************************************************
	SYSTEM ClusterGroup_System_Library
	IMPLEMENTATION LampImpl
	Module for CIP MACHINE mLampUnit
	Filename: mLampUnit.c
	generated by CIP Tool(R)
	
	activated code options:
		C code
		use channel interface
			naming option: use default prefix
		use postfix
			 LampUnit_HANS
		enable mode inspection
		'unsigned long' for delays
*********************************************************************/

/* Include Files */

#include "mLampUnit.h"

/* External Declarations */

void fICHAN_ButtonEvents_HANS (enum eMSG_ButtonEvents_HANS name_);
void fICHAN_ButtonEvents2_HANS (enum eMSG_ButtonEvents2_HANS name_);
void fICHAN_ButtonEvents3_HANS (enum eMSG_ButtonEvents3_HANS name_);
void fICHAN_ButtonEvents4_HANS (enum eMSG_ButtonEvents4_HANS name_);
void fICHAN_ButtonEvents5_HANS (enum eMSG_ButtonEvents5_HANS name_);
void fICHAN_ButtonEvents6_HANS (enum eMSG_ButtonEvents6_HANS name_);
void fICHAN_ButtonEvents7_HANS (enum eMSG_ButtonEvents7_HANS name_);
void fICHAN_ButtonEvents8_HANS (enum eMSG_ButtonEvents8_HANS name_);
void fICHAN_ButtonEvents9_HANS (enum eMSG_ButtonEvents9_HANS name_);
void fINIT_GroupA_Button_A_B_C1_HANS (void);
void fINIT_GroupB_Button_A_B_C1_HANS (void);
void fINIT_GroupA_Button_A_B_C2_HANS (void);
void fINIT_GroupB_Button_A_B_C2_HANS (void);
void fINIT_GroupA_Button_A_C_HANS (void);
void fINIT_GroupB_Button_A_C_HANS (void);
void fINIT_GroupA_Button_C_HANS (void);
void fINIT_GroupB_Button_C_HANS (void);
void fINIT_Button_D_HANS (void);
void fINIT_GroupA_Lamp_A_B_C1_HANS (void);
void fINIT_GroupB_Lamp_A_B_C1_HANS (void);
void fINIT_GroupA_Lamp_A_B_C2_HANS (void);
void fINIT_GroupB_Lamp_A_B_C2_HANS (void);
void fINIT_GroupA_Lamp_A_C_HANS (void);
void fINIT_GroupB_Lamp_A_C_HANS (void);
void fINIT_GroupA_Lamp_C_HANS (void);
void fINIT_GroupB_Lamp_C_HANS (void);
void fINIT_Lamp_D_HANS (void);

/* Global Declarations */

unsigned long time_LampUnit_HANS = 0;
struct tCHNOUT_mLampUnit_HANS CHNOUT_mLampUnit_HANS;
struct tTIMING_mLampUnit TIMING_mLampUnit_HANS[9];
struct tTMQE_mLampUnit_HANS *tuhead_mLampUnit_HANS, *tutail_mLampUnit_HANS;

/* Function Prototypes */

void fSETTIM_mLampUnit_HANS (unsigned long *delay_, struct tTMEL_mLampUnit_HANS *timer_, struct tTMQE_mLampUnit_HANS *timeup_);
void fSTOPTIM_mLampUnit_HANS (struct tTMEL_mLampUnit_HANS *timer_, struct tTMQE_mLampUnit_HANS *timeup_);
void fSTEP_LampUnit_HANS(void);
void fCHAIN_LampUnit_HANS(void);
void fTIMEUP_LampUnit_HANS(void);
void fREAD_LampUnit_HANS(void);

/* AUTO_ Handler Function */

static void fAUTOHDL_LampUnit_HANS(void)
{
		/* dummy function handling no AUTO_ */
}

/* Timer Functions */

static void fTICK_LampUnit_HANS(void)
{
	int i_;
	++time_LampUnit_HANS;
	for (i_ = 0; i_ < 9; i_ ++)
	{
		if (TIMING_mLampUnit_HANS[i_].set_)
		{
			TIMING_mLampUnit_HANS[i_].tkhndl_();
		}
	}
}

void fSETTIM_mLampUnit_HANS (unsigned long *delay_, struct tTMEL_mLampUnit_HANS *timer_, struct tTMQE_mLampUnit_HANS *timeup_)
{
	if (*delay_ > 0)
	{
		if (!timer_->set_)
		{
			++TIMING_mLampUnit_HANS[timeup_->proctype_].set_;
		}
		timer_->set_ = TRUE;
		timer_->end_ = time_LampUnit_HANS + *delay_;
		if (tuhead_mLampUnit_HANS == timeup_)
		{
			tuhead_mLampUnit_HANS = tuhead_mLampUnit_HANS->next_;
		}
		if (timeup_->preced_)
		{
			timeup_->preced_->next_ = timeup_->next_;
		}
		if (timeup_->next_)
		{
			timeup_->next_->preced_ = timeup_->preced_;
		}
		if (tutail_mLampUnit_HANS == timeup_)
		{
			tutail_mLampUnit_HANS = timeup_->preced_;
		}
		timeup_->preced_ = 0;
		timeup_->next_ = 0;
	}
	else 
	{
		if (timer_->set_)
		{
			--TIMING_mLampUnit_HANS[timeup_->proctype_].set_;
		}
		timer_->set_ = FALSE;
		if (tuhead_mLampUnit_HANS != timeup_ && ! timeup_->preced_ && ! timeup_->next_)
		{
			if (!tuhead_mLampUnit_HANS)
			{
				tuhead_mLampUnit_HANS = tutail_mLampUnit_HANS = timeup_;
			}
			else 
			{
				tutail_mLampUnit_HANS->next_ = timeup_;
				timeup_->preced_ = tutail_mLampUnit_HANS;
				tutail_mLampUnit_HANS = timeup_;
			}
		}
	}
}

void fSTOPTIM_mLampUnit_HANS (struct tTMEL_mLampUnit_HANS *timer_, struct tTMQE_mLampUnit_HANS *timeup_)
{
	if (timer_->set_)
	{
		--TIMING_mLampUnit_HANS[timeup_->proctype_].set_;
	}
	timer_->set_ = FALSE;
	if (tuhead_mLampUnit_HANS == timeup_)
	{
		tuhead_mLampUnit_HANS = tuhead_mLampUnit_HANS->next_;
	}
	if (timeup_->preced_)
	{
		timeup_->preced_->next_ = timeup_->next_;
	}
	if (timeup_->next_)
	{
		timeup_->next_->preced_ = timeup_->preced_;
	}
	if (tutail_mLampUnit_HANS == timeup_)
	{
		tutail_mLampUnit_HANS = timeup_->preced_;
	}
	timeup_->preced_ = 0;
	timeup_->next_ = 0;
}

/* Control Functions */

	/* Step Function for CIP Machine */

void fSTEP_LampUnit_HANS(void)
{
	if (tuhead_mLampUnit_HANS != 0)
	{
		TIMING_mLampUnit_HANS[tuhead_mLampUnit_HANS->proctype_].tuhndl_();
	}
	return;
}

	/* Chain Function for CIP Machine */

void fCHAIN_LampUnit_HANS(void)
{
	return;
}

	/* Timeup Function for CIP Machine */

void fTIMEUP_LampUnit_HANS(void)
{
	if (tuhead_mLampUnit_HANS != 0)
	{
		TIMING_mLampUnit_HANS[tuhead_mLampUnit_HANS->proctype_].tuhndl_();
	}
	return;
}

	/* Read Function for CIP Machine */

void fREAD_LampUnit_HANS(void)
{
	return;
}


/* Initialization Function */

int fINIT_LampUnit_HANS(void)
{
	tuhead_mLampUnit_HANS = tutail_mLampUnit_HANS = 0;
	TRG_LampUnit_HANS.TICK_ = fTICK_LampUnit_HANS;
	TRG_LampUnit_HANS.CHAIN_ = fCHAIN_LampUnit_HANS;
	TRG_LampUnit_HANS.TIMEUP_ = fTIMEUP_LampUnit_HANS;
	TRG_LampUnit_HANS.STEP_ = fSTEP_LampUnit_HANS;
	TRG_LampUnit_HANS.READ_ = fREAD_LampUnit_HANS;
	TRG_LampUnit_HANS.AUTO_ = fAUTOHDL_LampUnit_HANS;
	IN_LampUnit_HANS.ButtonEvents = fICHAN_ButtonEvents_HANS;
	IN_LampUnit_HANS.ButtonEvents2 = fICHAN_ButtonEvents2_HANS;
	IN_LampUnit_HANS.ButtonEvents3 = fICHAN_ButtonEvents3_HANS;
	IN_LampUnit_HANS.ButtonEvents4 = fICHAN_ButtonEvents4_HANS;
	IN_LampUnit_HANS.ButtonEvents5 = fICHAN_ButtonEvents5_HANS;
	IN_LampUnit_HANS.ButtonEvents6 = fICHAN_ButtonEvents6_HANS;
	IN_LampUnit_HANS.ButtonEvents7 = fICHAN_ButtonEvents7_HANS;
	IN_LampUnit_HANS.ButtonEvents8 = fICHAN_ButtonEvents8_HANS;
	IN_LampUnit_HANS.ButtonEvents9 = fICHAN_ButtonEvents9_HANS;
	iCHAN_LampUnit_HANS();
	if (!OUT_LampUnit_HANS.LampActions)
	{
		return 0;
	}
	if (!OUT_LampUnit_HANS.LampActions2)
	{
		return 0;
	}
	if (!OUT_LampUnit_HANS.LampActions3)
	{
		return 0;
	}
	if (!OUT_LampUnit_HANS.LampActions4)
	{
		return 0;
	}
	if (!OUT_LampUnit_HANS.LampActions5)
	{
		return 0;
	}
	if (!OUT_LampUnit_HANS.LampActions6)
	{
		return 0;
	}
	if (!OUT_LampUnit_HANS.LampActions7)
	{
		return 0;
	}
	if (!OUT_LampUnit_HANS.LampActions8)
	{
		return 0;
	}
	if (!OUT_LampUnit_HANS.LampActions9)
	{
		return 0;
	}
	fINIT_GroupA_Button_A_B_C1_HANS ();
	fINIT_GroupB_Button_A_B_C1_HANS ();
	fINIT_GroupA_Button_A_B_C2_HANS ();
	fINIT_GroupB_Button_A_B_C2_HANS ();
	fINIT_GroupA_Button_A_C_HANS ();
	fINIT_GroupB_Button_A_C_HANS ();
	fINIT_GroupA_Button_C_HANS ();
	fINIT_GroupB_Button_C_HANS ();
	fINIT_Button_D_HANS ();
	fINIT_GroupA_Lamp_A_B_C1_HANS ();
	fINIT_GroupB_Lamp_A_B_C1_HANS ();
	fINIT_GroupA_Lamp_A_B_C2_HANS ();
	fINIT_GroupB_Lamp_A_B_C2_HANS ();
	fINIT_GroupA_Lamp_A_C_HANS ();
	fINIT_GroupB_Lamp_A_C_HANS ();
	fINIT_GroupA_Lamp_C_HANS ();
	fINIT_GroupB_Lamp_C_HANS ();
	fINIT_Lamp_D_HANS ();
	return 1;
}

/*********************************************************************
	End of Module for CIP MACHINE mLampUnit
*********************************************************************/

/* Actifsource ID=[a9fcef86-9d17-11e1-90e4-e1fd5739c0f6,8417413c-b789-11ea-9e22-1112d6355503,841740f2-b789-11ea-9e22-1112d6355503,841741d7-b789-11ea-9e22-1112d6355503,8417413b-b789-11ea-9e22-1112d6355503,8417413a-b789-11ea-9e22-1112d6355503,nHJI4oeCL3CvvYyYiORTqxBSeJk=] */
